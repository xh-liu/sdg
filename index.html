<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=us-ascii">
	<TITLE>SDEdit Project Page</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice 4.1.1  (FreeBSD/amd64)">
	<META NAME="CREATED" CONTENT="20211209;17114600">
	<META NAME="CHANGED" CONTENT="0;0">
	<STYLE TYPE="text/css">
		@page { margin-right: 12.25in; margin-top: 1in; margin-bottom: 1in; margin-left: 12.25in }
		P { margin-bottom: 0.08in }
		A:link { so-language: zxx }
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR" STYLE="border: none; padding: 0in">
<P ALIGN=CENTER STYLE="margin-bottom: 0.19in; line-height: 0.42in"><FONT COLOR="#000000"><FONT SIZE=5 STYLE="font-size: 35pt">More
Control for Free! Image Synthesis with Semantic Diffusion Guidance</FONT></FONT></P>
<P ALIGN=CENTER STYLE="margin-bottom: 0in; line-height: 0.31in"><A HREF="https://xh-liu.github.io/"><FONT SIZE=5 STYLE="font-size: 17pt">Xihui
Liu</FONT></FONT></A><SUP><FONT FACE="Helvetica, sans-serif"><FONT SIZE=3 STYLE="font-size: 12pt">1</FONT></FONT></SUP></FONT><FONT SIZE=5 STYLE="font-size: 17pt">
    </FONT></FONT><A HREF="https://scholar.google.com/citations?user=_kJ-zUYAAAAJ&amp;hl=en"><FONT SIZE=5 STYLE="font-size: 17pt">Dong
Huk Park</FONT></FONT></A><SUP><FONT FACE="Helvetica, sans-serif"><FONT SIZE=3 STYLE="font-size: 12pt">1</FONT></FONT></SUP></FONT><FONT SIZE=5 STYLE="font-size: 17pt">
    <A HREF="http://people.eecs.berkeley.edu/~sazadi/index.html">Samaneh
Azadi</A></FONT></FONT><SUP><FONT FACE="Helvetica, sans-serif"><FONT SIZE=3 STYLE="font-size: 12pt">1</FONT></FONT></SUP></FONT><FONT SIZE=5 STYLE="font-size: 17pt">
    Gong Zhang</FONT></FONT><SUP><FONT FACE="Helvetica, sans-serif"><FONT SIZE=3 STYLE="font-size: 12pt">2</FONT></FONT></SUP></FONT></P>
<P ALIGN=CENTER STYLE="margin-bottom: 0in; line-height: 0.31in"><FONT SIZE=5 STYLE="font-size: 17pt">Arman
Chopikyan</FONT><SUP><FONT FACE="Helvetica, sans-serif"><FONT SIZE=3 STYLE="font-size: 12pt">2</FONT></FONT></SUP></FONT><FONT SIZE=5 STYLE="font-size: 17pt">
    <A HREF="https://scholar.google.com/citations?user=JnvYwo8AAAAJ&amp;hl=en">Yuxiao
Hu</A></FONT><SUP><FONT FACE="Helvetica, sans-serif"><FONT SIZE=3 STYLE="font-size: 12pt">2</FONT></FONT></SUP></FONT><FONT SIZE=5 STYLE="font-size: 17pt">
    <A HREF="https://www.humphreyshi.com/">Humphrey Shi</A></FONT></FONT><SUP><FONT FACE="Helvetica, sans-serif"><FONT SIZE=3 STYLE="font-size: 12pt">2</FONT></FONT></SUP></FONT><FONT SIZE=5 STYLE="font-size: 17pt">
    <A HREF="https://anna-rohrbach.net/">Anna Rohrach</A></FONT></FONT><SUP><FONT FACE="Helvetica, sans-serif"><FONT SIZE=3 STYLE="font-size: 12pt">1</FONT></FONT></SUP></FONT><FONT SIZE=5 STYLE="font-size: 17pt">
    <A HREF="https://people.eecs.berkeley.edu/~trevor/">Trevor
Darrell</A></FONT></FONT><SUP><FONT FACE="Helvetica, sans-serif"><FONT SIZE=3 STYLE="font-size: 12pt">1</FONT></FONT></SUP></FONT></P>
<P ALIGN=CENTER STYLE="margin-bottom: 0in"><SUP><FONT FACE="Helvetica, sans-serif"><FONT SIZE=3 STYLE="font-size: 12pt">1</FONT></FONT></SUP></FONT><FONT COLOR="#000000"><FONT SIZE=4 STYLE="font-size: 15pt">UC
Berkeley&nbsp;&nbsp;&nbsp;  </FONT></FONT><SUP><FONT FACE="Helvetica, sans-serif"><FONT SIZE=3 STYLE="font-size: 12pt">2</FONT></FONT></SUP></FONT><FONT COLOR="#000000"><FONT SIZE=4 STYLE="font-size: 15pt">Picsart
AI Research </FONT></FONT></SUP></FONT><FONT COLOR="#000000"><FONT SIZE=4 STYLE="font-size: 15pt">University of Oregon </FONT></FONT>
</P>
<P ALIGN=CENTER STYLE="margin-bottom: 0in; line-height: 0.31in"><A HREF="https://arxiv.org/abs/2112.05744"><FONT FACE="Georgia-Bold"><FONT SIZE=4 STYLE="font-size: 15pt"><B>Paper</B></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Georgia-Bold"><FONT SIZE=4 STYLE="font-size: 15pt"><B>
| </B></FONT></FONT></FONT><A HREF="https://docs.google.com/presentation/d/1cMB7dcKoJ4s6oeqkbo6qNBw8u4Un2rprFVgFIkPVxv8/edit?usp=sharing"><FONT FACE="Georgia-Bold"><FONT SIZE=4 STYLE="font-size: 15pt"><B>Slides</B></FONT></FONT></FONT></A><FONT COLOR="#000000"><FONT FACE="Georgia-Bold"><FONT SIZE=4 STYLE="font-size: 15pt"><B>
| </B></FONT></FONT></FONT><FONT FACE="Georgia-Bold"><FONT SIZE=4 STYLE="font-size: 15pt"><B>GitHub</B></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Georgia-Bold"><FONT SIZE=4 STYLE="font-size: 15pt"><B>
| </B></FONT></FONT></FONT><FONT FACE="Georgia-Bold"><FONT SIZE=4 STYLE="font-size: 15pt"><B>Demo</B></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in; line-height: 0.21in"><BR>
</P>
<P ALIGN=JUSTIFY STYLE="margin-bottom: 0.21in; margin-left: 6.0in;line-height: 0.31in"><FONT COLOR="#000000"><FONT SIZE=4 STYLE="font-size: 15pt">
We propose a unified framework for fine-grained controllable image synthesis with either language guidance or image guidance, or both language and image guidance.<br>
Our semantic guidance can be injected to a pertained unconditional diffusion model without re-training or fine-tuning the diffusion model.<br>
The language guidance can be applied to any dataset without text annotations.
</P>

<center style="margin-top:1cm;">
  <a href="./files/teaser-1.png">
  <img src="./files/teaser-1.png" width="1400">
  </a>
</center>
<p></p>

<br><br>

<P ALIGN=CENTER STYLE="margin-bottom: 0.21in; line-height: 0.31in"><FONT SIZE=5 STYLE="font-size: 25pt"><B>Abstract</B></FONT></FONT></FONT></P>
<P ALIGN=JUSTIFY STYLE="margin-bottom: 0.21in; margin-left: 6.0in; margin-right: 6.0in;line-height: 0.31in"><FONT COLOR="#000000"><FONT SIZE=4 STYLE="font-size: 15pt">Controllable
image synthesis models allow creation of diverse images based on text
instructions or guidance from an example image. Recently, denoising
diffusion probabilistic models have been shown to generate more
realistic imagery than prior methods, and have been successfully
demonstrated in unconditional and class-conditional settings. We
explore fine-grained, continuous control of this model class, and
introduce a novel unified framework for semantic diffusion guidance,
which allows either language or image guidance, or both.  Guidance is
injected into a pretrained unconditional diffusion model using the
gradient of image-text or image matching scores.  We explore
CLIP-based textual guidance as well as both content and style-based
image guidance in a unified form. Our text-guided synthesis approach
can be applied to datasets without associated text annotations. We
conduct experiments on FFHQ and LSUN datasets, and show results on
fine-grained text-guided image synthesis, synthesis of images related
to a style or content example image, and examples with both textual
and image guidance. </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0.21in; line-height: 0.31in"><BR><BR>
</P>
<P ALIGN=CENTER STYLE="margin-bottom: 0.21in; line-height: 0.31in"><FONT COLOR="#000000"><FONT FACE="Georgia-Bold"><FONT SIZE=5 STYLE="font-size: 25pt"><B>Semantic
Diffusion Guidance</B></FONT></FONT></FONT></P>
<center style="margin-top:1cm; margin-bottom: 2cm;">
  <a href="./files/pipeline.png">
  <img src="./files/pipeline.png" width="800">
  </a>
</center>
<p></p>
<P ALIGN=CENTER STYLE="margin-bottom: 1cm"><FONT COLOR="#000000"><FONT FACE="Georgia-Bold"><FONT SIZE=4 STYLE="font-size: 25pt"><B>Results A: Image
Synthesis with Language Guidance</B></FONT></FONT></P>
<center style="margin-top:1cm; margin-bottom: 2cm">
  <a href="./files/result_l.png">
  <img src="./files/result_l.png" width="1400">
  </a>
</center>
<p></p>
<P ALIGN=CENTER STYLE="margin-bottom: 1cm"><FONT COLOR="#000000"><FONT FACE="Georgia-Bold"><FONT SIZE=4 STYLE="font-size: 25pt"><B>Results B: Image
Synthesis with Image Guidance</B></FONT></FONT></FONT></P>
<center style="margin-top:1cm; margin-bottom: 2cm">
  <a href="./files/result_v.png">
  <img src="./files/result_v.png" width="1400">
  </a>
</center>
<p></p>
<P ALIGN=CENTER STYLE="margin-bottom: 1cm"><FONT COLOR="#000000"><FONT SIZE=4 STYLE="font-size: 20pt">Our
image guidance can also be a style image guidance and out-of-domain
image guidance, as shown below.</FONT></FONT></P>
<center style="margin-top:1cm; margin-bottom: 2cm;">
  <a href="./files/result_v_2.png">
  <img src="./files/result_v_2.png" width="1400">
  </a>
</center>
<p></p>
<P ALIGN=CENTER STYLE="margin-bottom: 1cm"><FONT COLOR="#000000"><FONT FACE="Georgia-Bold"><FONT SIZE=4 STYLE="font-size: 25pt"><B>Results C: Image
Synthesis with Language Guidance + Image Guidance</B></FONT></FONT></FONT></P>
<center style="margin-top:1cm; margin-bottom: 2cm;">
  <a href="./files/result_vl.png">
  <img src="./files/result_vl.png" width="1400">
  </a>
</center>
<p></p>
<P ALIGN=CENTER STYLE="margin-bottom: 1cm"><FONT COLOR="#000000"><FONT SIZE=4 STYLE="font-size: 20pt">Examples
with same language guidance + different image guidance.</FONT></FONT></P>
<center style="margin-top:1cm; margin-bottom: 2cm;">
  <a href="./files/result_vl_2.png">
  <img src="./files/result_vl_2.png" width="1000">
  </a>
</center>
<p></p>
<P ALIGN=CENTER STYLE="margin-bottom: 1cm"><FONT COLOR="#000000"><FONT SIZE=4 STYLE="font-size: 20pt">Examples
with different language guidance + same image guidance.</FONT></FONT></P>
<center style="margin-top:1cm; margin-bottom: 2cm;">
  <a href="./files/result_vl_3.png">
  <img src="./files/result_vl_3.png" width="1000">
  </a>
</center>
<p></p>
<P ALIGN=CENTER STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Georgia-Bold"><FONT SIZE=4 STYLE="font-size: 25pt"><B>Related Work</B></FONT></FONT></FONT></P>
<P STYLE="margin-left: 5.5in; text-indent: -0.5in; margin-bottom: 0in; line-height: 0.31in">
<FONT COLOR="#000000"><FONT SIZE=4 STYLE="font-size: 15pt">Ho,
Jonathan, Ajay Jain, and Pieter Abbeel </FONT></FONT><A HREF="https://arxiv.org/abs/2006.11239"><FONT SIZE=4 STYLE="font-size: 15pt">&quot;Denoising
Diffusion Probabilistic Models&quot;</FONT></FONT></A><FONT COLOR="#000000"><FONT SIZE=4 STYLE="font-size: 15pt">,
Proceedings of the 34th Annual Conference on Neural Information
Processing Systems, 2020. </FONT></FONT>
</P>
<P STYLE="margin-left: 5.5in; text-indent: -0.5in; margin-bottom: 0in; line-height: 0.31in">
<FONT COLOR="#000000"><FONT SIZE=4 STYLE="font-size: 15pt">Prafulla
Dhariwal, and Alex Nichol &ldquo;<A HREF="https://arxiv.org/abs/2105.05233">Diffusion
Models Beat GANs on Image Synthesis</A>&rdquo;, </FONT></FONT><FONT COLOR="#000000"><FONT SIZE=4 STYLE="font-size: 15pt">Proceedings
of the 35th Annual Conference on Neural Information Processing
Systems, 2021. </FONT></FONT>
</P>

<P ALIGN=CENTER STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Georgia-Bold"><FONT SIZE=4 STYLE="font-size: 25pt"><B>BibTex</B></FONT></FONT></FONT></P>
<p ALIGN=JUSTIFY STYLE="margin-left: 6.5in;"><FONT SIZE=4 STYLE="font-size: 15pt">If you find our work useful, please cite our paper:</FONT></p>
<p ALIGN=JUSTIFY STYLE="margin-left: 6.5in; margin-right: 8.5in;"><FONT SIZE=4 STYLE="font-size: 14pt"><code>@misc{liu2021more,<br>
      title={More Control for Free! Image Synthesis with Semantic Diffusion Guidance},<br>
      author={Xihui Liu and Dong Huk Park and Samaneh Azadi and Gong Zhang and Arman Chopikyan and Yuxiao Hu and Humphrey Shi and Anna Rohrbach and Trevor Darrell},<br>
      year={2021},<br>
      eprint={2112.05744},<br>
      archivePrefix={arXiv},<br>
      primaryClass={cs.CV}
}</code></FONT></p>
<P ALIGN=CENTER STYLE="margin-bottom: 0in"><BR>
</P>
<TABLE WIDTH=583 BORDER=0 CELLPADDING=7 CELLSPACING=0>
	<COL WIDTH=569>
	<TR>
		<TD WIDTH=569>
			<P ALIGN=CENTER STYLE="margin-bottom: 0in"><BR>
			</P>
			<P ALIGN=CENTER STYLE="margin-bottom: 0in"><BR>
			</P>
			<P ALIGN=CENTER><BR>
			</P>
		</TD>
	</TR>
</TABLE>
<P STYLE="margin-bottom: 0in"><BR>
</P>
</BODY>
</HTML>
